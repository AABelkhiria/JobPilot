<!DOCTYPE html>
<html>
<head>
    <title>Cover Letter AI</title>
    <meta charset="utf-8">
    <style>
        :root {
            /* --- "Dim Mode" Color Palette --- */
            --bg-color: #22272e;
            --surface-color: #2d333b;
            --text-color: #adbac7;
            --secondary-text-color: #768390;
            --accent-color: #539bf5;
            --accent-hover-color: #6cb6f5;
            --success-color: #57ab5a;
            --error-color: #e5534b;
            --border-color: #444c56;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            width: 320px;
            padding: 20px;
            margin: 0;
            text-align: center;
        }

        h1 {
            font-size: 20px;
            font-weight: 600;
            margin-top: 0;
            margin-bottom: 10px;
            color: #cdd9e5; /* Brighter heading */
        }
        
        button {
            width: 100%;
            padding: 12px;
            margin-bottom: 25px;
            background-color: var(--accent-color);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s, opacity 0.2s;
        }

        button:hover { background-color: var(--accent-hover-color); }
        button:disabled { background-color: #373e47; color: #768390; cursor: not-allowed; }

        /* --- Progress Stepper Styles --- */
        #progress-steps {
            list-style-type: none;
            padding: 0;
            margin: 0;
            text-align: left;
        }
        #progress-steps li {
            position: relative;
            padding-left: 35px;
            margin-bottom: 15px;
            color: var(--secondary-text-color);
            font-size: 14px;
            transition: color 0.3s ease;
        }
        /* Connecting line */
        #progress-steps li:not(:last-child)::after {
            content: '';
            position: absolute;
            left: 10px;
            top: 15px;
            width: 2px;
            height: 100%;
            background-color: var(--border-color);
        }
        /* Bullet point */
        #progress-steps li::before {
            content: '';
            position: absolute;
            left: 4px;
            top: 4px;
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background-color: var(--border-color); /* Pending bullet */
            border: 2px solid var(--bg-color);
            transition: all 0.3s ease;
            z-index: 1;
        }

        /* Active state */
        #progress-steps li.active {
            color: var(--accent-color);
            font-weight: 600;
        }
        #progress-steps li.active::before { background-color: var(--accent-color); }

        /* Completed state */
        #progress-steps li.completed { color: var(--success-color); }
        #progress-steps li.completed::before {
            content: '✓';
            background-color: var(--success-color);
            color: white;
            text-align: center;
            line-height: 15px;
            font-size: 12px;
        }
        
        /* Error state */
        #progress-steps li.error { color: var(--error-color); font-weight: 600; }
        #progress-steps li.error::before {
            content: '×';
            background-color: var(--error-color);
            color: white;
            text-align: center;
            line-height: 15px;
            font-size: 14px;
        }

        #status-message {
            margin-top: 20px;
            font-size: 13px;
            min-height: 20px;
            color: var(--secondary-text-color);
            font-style: italic;
        }
    </style>
</head>
<body>
    <h1>Cover Letter Generator</h1>
    <button id="generateBtn">Generate & Download PDF</button>

    <ul id="progress-steps">
        <li id="step-read-page">Reading Page Content</li>
        <li id="step-settings">Accessing Your Settings</li>
        <li id="step-api-call">Contacting Gemini AI</li>
        <li id="step-create-pdf">Creating PDF Document</li>
        <li id="step-download">Downloading File</li>
    </ul>

    <div id="status-message"></div>
    <script src="popup.js"></script>
</body>
</html>